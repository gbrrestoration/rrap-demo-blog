---
keywords: fastai
description: A tutorial of RRAP authentication using Jupyter notebooks.
title: RRAP-IS Provenance Demo Notebook
toc: true 
badges: true
comments: true
categories: [jupyter]
nb_path: _notebooks/2022-07-20-rrap-provenance-demo.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-07-20-rrap-provenance-demo.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="About">About<a class="anchor-link" href="#About"> </a></h2><p>This notebook is a demonstration of generating a record of a model run and searching the provenance database to identify linkages between data, models, users and organisations with the RRAP-IS system.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Run-all-imports">Run all imports<a class="anchor-link" href="#Run-all-imports"> </a></h3><p>Keep all your imports at the top of a notebook.  It allows for easier management.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">json2html</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">IFrame</span><span class="p">,</span> <span class="n">display</span><span class="p">,</span> <span class="n">HTML</span><span class="p">,</span> <span class="n">JSON</span><span class="p">,</span> <span class="n">Markdown</span><span class="p">,</span> <span class="n">Image</span>
<span class="kn">from</span> <span class="nn">mdsisclienttools.auth.TokenManager</span> <span class="kn">import</span> <span class="n">DeviceFlowManager</span>
<span class="kn">from</span> <span class="nn">urllib.error</span> <span class="kn">import</span> <span class="n">HTTPError</span>
<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">nx_altair</span> <span class="k">as</span> <span class="nn">nxa</span>
<span class="kn">from</span> <span class="nn">networkx.readwrite</span> <span class="kn">import</span> <span class="n">json_graph</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">holoviews</span> <span class="k">as</span> <span class="nn">hv</span>
<span class="kn">from</span> <span class="nn">holoviews</span> <span class="kn">import</span> <span class="n">opts</span>
<span class="n">hv</span><span class="o">.</span><span class="n">extension</span><span class="p">(</span><span class="s1">&#39;bokeh&#39;</span><span class="p">)</span>
<span class="n">defaults</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="n">hv</span><span class="o">.</span><span class="n">opts</span><span class="o">.</span><span class="n">defaults</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">EdgePaths</span><span class="p">(</span><span class="o">**</span><span class="n">defaults</span><span class="p">),</span> <span class="n">opts</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="o">**</span><span class="n">defaults</span><span class="p">),</span> <span class="n">opts</span><span class="o">.</span><span class="n">Nodes</span><span class="p">(</span><span class="o">**</span><span class="n">defaults</span><span class="p">))</span>

<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="s1">&#39;once&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Define-global-variables">Define global variables<a class="anchor-link" href="#Define-global-variables"> </a></h3><p>Similar to import we like to define notebook variable at the top and reuse them throughout the notebook</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data_api</span> <span class="o">=</span> <span class="s2">&quot;https://data-api.testing.rrap-is.com&quot;</span>
<span class="n">registry_api</span> <span class="o">=</span> <span class="s2">&quot;https://registry-api.testing.rrap-is.com&quot;</span>
<span class="n">prov_api</span> <span class="o">=</span> <span class="s2">&quot;https://prov-api.testing.rrap-is.com&quot;</span>
<span class="n">auth_server</span> <span class="o">=</span> <span class="s2">&quot;https://auth.dev.rrap-is.com/auth/realms/rrap&quot;</span>
<span class="c1"># garbage = &quot;https://frogs.are.green&quot;</span>
<span class="n">base_urls</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;data_api&#39;</span><span class="p">:</span> <span class="n">data_api</span><span class="p">,</span> <span class="s1">&#39;registry_api&#39;</span><span class="p">:</span> <span class="n">registry_api</span><span class="p">,</span> <span class="s1">&#39;prov_api&#39;</span><span class="p">:</span> <span class="n">prov_api</span><span class="p">,</span> <span class="s1">&#39;auth_server&#39;</span><span class="p">:</span> <span class="n">auth_server</span><span class="p">}</span><span class="c1">#, &#39;garbage&#39;: garbage}</span>
<span class="n">display</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Checking base urls&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">base_urls</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Testing - </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; - Passed&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">HTTPError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; - Fail&#39;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">SystemExit</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="c1"># catastrophic error. bail.</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; - Fail&#39;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">SystemExit</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Authentication">Authentication<a class="anchor-link" href="#Authentication"> </a></h2><h3 id="Setup-tokens-using-device-authorisation-flow-against-keycloak-server">Setup tokens using device authorisation flow against keycloak server<a class="anchor-link" href="#Setup-tokens-using-device-authorisation-flow-against-keycloak-server"> </a></h3><p>This could result in a browser window being opened if you don't have valid tokens cached in local storage.</p>
<p><a href="#toc">Return to Top</a></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">local_token_storage</span> <span class="o">=</span> <span class="s2">&quot;.tokens.json&quot;</span>

<span class="n">token_manager</span> <span class="o">=</span> <span class="n">DeviceFlowManager</span><span class="p">(</span>
    <span class="n">stage</span><span class="o">=</span><span class="s2">&quot;TEST&quot;</span><span class="p">,</span>
    <span class="n">keycloak_endpoint</span><span class="o">=</span><span class="n">auth_server</span><span class="p">,</span>
    <span class="n">local_storage_location</span><span class="o">=</span><span class="n">local_token_storage</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Helper-functions">Helper functions<a class="anchor-link" href="#Helper-functions"> </a></h2><p><a href="#toc">Return to Top</a></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">wrap_html_table</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="n">ul_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">)</span>
    <span class="n">div_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">)</span>
    <span class="n">div_tag</span><span class="p">[</span><span class="s1">&#39;style&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;width: auto; height: 400px; overflow-y: auto; &quot;</span>
    <span class="n">ul_tag</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">div_tag</span><span class="p">)</span>
    <span class="n">new_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="s2">&quot;details&quot;</span><span class="p">)</span>
    <span class="n">div_tag</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">new_tag</span><span class="p">)</span>
    
    <span class="n">tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="s2">&quot;summary&quot;</span><span class="p">)</span>
    <span class="n">tag</span><span class="o">.</span><span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;Results&quot;</span>
    <span class="n">soup</span><span class="o">.</span><span class="n">div</span><span class="o">.</span><span class="n">insert_after</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">()</span>
    
<span class="k">def</span> <span class="nf">json_to_md</span><span class="p">(</span><span class="n">response_json</span><span class="p">):</span>
        <span class="n">json_obj_in_html</span> <span class="o">=</span> <span class="n">json2html</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span> <span class="n">response_json</span>  <span class="p">)</span>
        <span class="k">return</span> <span class="n">wrap_html_table</span><span class="p">(</span><span class="n">json_obj_in_html</span><span class="p">)</span>
    
<span class="k">def</span> <span class="nf">handle_request</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">params</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">payload</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">)</span>
        <span class="c1"># If the response was successful, no Exception will be raised</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

    <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">http_err</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;HTTP error occurred: </span><span class="si">{</span><span class="n">http_err</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># Python 3.6</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="n">http_err</span><span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Other error occurred: </span><span class="si">{</span><span class="n">err</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># Python 3.6</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="n">err</span> <span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Endpoint-Documentation">Endpoint Documentation<a class="anchor-link" href="#Endpoint-Documentation"> </a></h2><p>Endpoint documentation can be found by appending either <code>/docs</code> or <code>/redoc</code> on the end a base URL.</p>
<p>For example:</p>
<ul>
  <li><a href="https://prov-api.testing.rrap-is.com/redoc" target="_blank">Redoc FastAPI</a></li>
  <li><a href="https://prov-api.testing.rrap-is.com/docs" target="_blank">Docs FastAPI</a> </li>
</ul><p>Then select from the menu an endpoint function call e.g. <code>/explore/lineage</code></p>
<p>Then append the function call onto the base url e.g. <code>https://prov-api.testing.rrap-is.com/explore/lineage</code></p>
<p><a href="#toc">Return to Top</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Demonstration">Demonstration<a class="anchor-link" href="#Demonstration"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Register-a-model-run">Register a model run<a class="anchor-link" href="#Register-a-model-run"> </a></h3><p>A model run consists of ten main elements where many have already been registered in the RRAP-IS Registry.</p>
<p>These elements are:</p>
<ul>
<li>Start Time,</li>
<li>End Time,</li>
<li>Workflow definition*,</li>
<li>Input dataset*,</li>
<li>Input template*,</li>
<li>Output dataset*, </li>
<li>Output template*,</li>
<li>Modeller* and</li>
<li>Requesting Organisation*</li>
</ul>
<p>*pre-registered elements.</p>
<p>For examples of registering elements please see <a href="/rrap-demo-blog/jupyter/2022/08/18/rrap-registry.html" target="_blank">RRAP-IS Register blog post</a> or <a href="/rrap-demo-blog/jupyter/registry/2022/09/02/registry-query.html" target="_blank">RRAP-IS Register Query blog post</a></p>
<p>see <a href="https://prov-api.testing.rrap-is.com/redoc#tag/Model-Runs/operation/register_model_run_complete_model_run_register_complete_post" target="_blank">Endpoint documentation</a></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">auth</span> <span class="o">=</span> <span class="n">token_manager</span><span class="o">.</span><span class="n">get_auth</span>
<span class="n">postfix</span> <span class="o">=</span> <span class="s2">&quot;/model_run/register_complete&quot;</span>
<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;start_time&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;end_time&quot;</span><span class="p">:</span> <span class="mi">1662467929</span><span class="p">,</span>
  <span class="s2">&quot;workflow_definition&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;10378.1/1691197&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;datasets&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;10378.1/1690478&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;template&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;10378.1/1690478&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;dataset_type&quot;</span><span class="p">:</span> <span class="s2">&quot;DATA_STORE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dataset&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;10378.1/1688622&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;datasets&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;10378.1/1690478&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;template&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;10378.1/1690478&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;dataset_type&quot;</span><span class="p">:</span> <span class="s2">&quot;DATA_STORE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dataset&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;10378.1/1688634&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;associations&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;modeller&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;10378.1/1691160&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;requesting_organisation&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;10378.1/1690557&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">endpoint</span> <span class="o">=</span> <span class="n">prov_api</span> <span class="o">+</span> <span class="n">postfix</span> 

<span class="n">response_json</span> <span class="o">=</span> <span class="n">handle_request</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">auth</span><span class="p">())</span>
<span class="n">HTML</span><span class="p">(</span><span class="n">json_to_md</span><span class="p">(</span><span class="n">response_json</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<html>
 <body>
  <details>
   <div style="width: auto; height: 400px; overflow-y: auto; ">
    <table border="1">
     <tr>
      <th>
       status
      </th>
      <td>
       <table border="1">
        <tr>
         <th>
          success
         </th>
         <td>
          True
         </td>
        </tr>
        <tr>
         <th>
          details
         </th>
         <td>
          All successful.
         </td>
        </tr>
       </table>
      </td>
     </tr>
     <tr>
      <th>
       record_info
      </th>
      <td>
       <table border="1">
        <tr>
         <th>
          id
         </th>
         <td>
          10378.1/1691332
         </td>
        </tr>
        <tr>
         <th>
          prov_json
         </th>
         <td>
          {"prefix": {"default": "http://hdl.handle.net/"}, "activity": {"10378.1/1691332": {"model_run/10378.1/1691332": true, "item_category": "ACTIVITY", "item_subtype": "MODEL_RUN"}}, "entity": {"10378.1/1688622": {"model_run/10378.1/1691332": true, "item_category": "ENTITY", "item_subtype": "DATASET"}, "10378.1/1688634": {"model_run/10378.1/1691332": true, "item_category": "ENTITY", "item_subtype": "DATASET"}, "10378.1/1691197": {"model_run/10378.1/1691332": true, "item_category": "ENTITY", "item_subtype": "MODEL_RUN_WORKFLOW_DEFINITION", "prov:type": {"$": "prov:Collection", "type": "prov:QUALIFIED_NAME"}}, "10378.1/1690478": {"model_run/10378.1/1691332": true, "item_category": "ENTITY", "item_subtype": "DATASET_TEMPLATE"}, "10378.1/1691116": {"model_run/10378.1/1691332": true, "item_category": "ENTITY", "item_subtype": "MODEL"}}, "agent": {"10378.1/1691160": {"model_run/10378.1/1691332": true, "item_category": "AGENT", "item_subtype": "PERSON"}, "10378.1/1690557": {"model_run/10378.1/1691332": true, "item_category": "AGENT", "item_subtype": "ORGANISATION"}}, "used": {"_:id1": {"prov:activity": "10378.1/1691332", "prov:entity": "10378.1/1688622"}, "_:id3": {"prov:activity": "10378.1/1691332", "prov:entity": "10378.1/1691116"}, "_:id4": {"prov:activity": "10378.1/1691332", "prov:entity": "10378.1/1691197"}}, "wasGeneratedBy": {"_:id2": {"prov:entity": "10378.1/1688634", "prov:activity": "10378.1/1691332"}}, "wasAssociatedWith": {"_:id5": {"prov:activity": "10378.1/1691332", "prov:agent": "10378.1/1691160"}, "_:id6": {"prov:activity": "10378.1/1691332", "prov:agent": "10378.1/1690557"}}, "wasAttributedTo": {"_:id7": {"prov:entity": "10378.1/1688634", "prov:agent": "10378.1/1691160"}}, "hadMember": {"_:id8": {"prov:collection": "10378.1/1691197", "prov:entity": "10378.1/1690478"}, "_:id11": {"prov:collection": "10378.1/1691197", "prov:entity": "10378.1/1691116"}}, "wasInfluencedBy": {"_:id9": {"prov:influencee": "10378.1/1688622", "prov:influencer": "10378.1/1690478"}, "_:id10": {"prov:influencee": "10378.1/1688634", "prov:influencer": "10378.1/1690478"}}}
         </td>
        </tr>
        <tr>
         <th>
          record
         </th>
         <td>
          <table border="1">
           <tr>
            <th>
             workflow_definition
            </th>
            <td>
             <table border="1">
              <tr>
               <th>
                id
               </th>
               <td>
                10378.1/1691197
               </td>
              </tr>
             </table>
            </td>
           </tr>
           <tr>
            <th>
             inputs
            </th>
            <td>
             <table border="1">
              <tr>
               <th>
                datasets
               </th>
               <td>
                <table border="1">
                 <tr>
                  <th>
                   10378.1/1690478
                  </th>
                  <td>
                   <table border="1">
                    <tr>
                     <th>
                      template
                     </th>
                     <td>
                      <table border="1">
                       <tr>
                        <th>
                         id
                        </th>
                        <td>
                         10378.1/1690478
                        </td>
                       </tr>
                      </table>
                     </td>
                    </tr>
                    <tr>
                     <th>
                      dataset_type
                     </th>
                     <td>
                      DATA_STORE
                     </td>
                    </tr>
                    <tr>
                     <th>
                      dataset
                     </th>
                     <td>
                      <table border="1">
                       <tr>
                        <th>
                         id
                        </th>
                        <td>
                         10378.1/1688622
                        </td>
                       </tr>
                      </table>
                     </td>
                    </tr>
                   </table>
                  </td>
                 </tr>
                </table>
               </td>
              </tr>
             </table>
            </td>
           </tr>
           <tr>
            <th>
             outputs
            </th>
            <td>
             <table border="1">
              <tr>
               <th>
                datasets
               </th>
               <td>
                <table border="1">
                 <tr>
                  <th>
                   10378.1/1690478
                  </th>
                  <td>
                   <table border="1">
                    <tr>
                     <th>
                      template
                     </th>
                     <td>
                      <table border="1">
                       <tr>
                        <th>
                         id
                        </th>
                        <td>
                         10378.1/1690478
                        </td>
                       </tr>
                      </table>
                     </td>
                    </tr>
                    <tr>
                     <th>
                      dataset_type
                     </th>
                     <td>
                      DATA_STORE
                     </td>
                    </tr>
                    <tr>
                     <th>
                      dataset
                     </th>
                     <td>
                      <table border="1">
                       <tr>
                        <th>
                         id
                        </th>
                        <td>
                         10378.1/1688634
                        </td>
                       </tr>
                      </table>
                     </td>
                    </tr>
                   </table>
                  </td>
                 </tr>
                </table>
               </td>
              </tr>
             </table>
            </td>
           </tr>
           <tr>
            <th>
             associations
            </th>
            <td>
             <table border="1">
              <tr>
               <th>
                modeller
               </th>
               <td>
                <table border="1">
                 <tr>
                  <th>
                   id
                  </th>
                  <td>
                   10378.1/1691160
                  </td>
                 </tr>
                </table>
               </td>
              </tr>
              <tr>
               <th>
                requesting_organisation
               </th>
               <td>
                <table border="1">
                 <tr>
                  <th>
                   id
                  </th>
                  <td>
                   10378.1/1690557
                  </td>
                 </tr>
                </table>
               </td>
              </tr>
             </table>
            </td>
           </tr>
           <tr>
            <th>
             start_time
            </th>
            <td>
             0
            </td>
           </tr>
           <tr>
            <th>
             end_time
            </th>
            <td>
             1662467929
            </td>
           </tr>
          </table>
         </td>
        </tr>
       </table>
      </td>
     </tr>
    </table>
   </div>
   <summary>
    Results
   </summary>
  </details>
 </body>
</html>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Explore-lineage">Explore lineage<a class="anchor-link" href="#Explore-lineage"> </a></h3><p><a href="#toc">Return to Top</a></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">auth</span> <span class="o">=</span> <span class="n">token_manager</span><span class="o">.</span><span class="n">get_auth</span>
<span class="n">postfix</span> <span class="o">=</span> <span class="s2">&quot;/explore/upstream&quot;</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;starting_id&quot;</span><span class="p">:</span> <span class="s2">&quot;10378.1/1691200&quot;</span><span class="p">,</span>
    <span class="s2">&quot;depth&quot;</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">}</span>
<span class="n">endpoint</span> <span class="o">=</span> <span class="n">prov_api</span> <span class="o">+</span> <span class="n">postfix</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">())</span>

<span class="n">result_graph</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;graph&quot;</span><span class="p">]</span>

<span class="n">a_graph</span> <span class="o">=</span> <span class="n">json_graph</span><span class="o">.</span><span class="n">node_link_graph</span><span class="p">(</span><span class="n">result_graph</span><span class="p">)</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">hv</span><span class="o">.</span><span class="n">Graph</span><span class="o">.</span><span class="n">from_networkx</span><span class="p">(</span><span class="n">a_graph</span><span class="p">,</span> <span class="n">nx</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">fruchterman_reingold_layout</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="c1">#.opts(tools=[&#39;hover&#39;])</span>
<span class="n">labels</span> <span class="o">=</span> <span class="n">hv</span><span class="o">.</span><span class="n">Labels</span><span class="p">(</span><span class="n">im</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="s1">&#39;item_category&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">opts</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">Labels</span><span class="p">(</span><span class="n">text_font_size</span><span class="o">=</span><span class="s1">&#39;12pt&#39;</span><span class="p">,</span> <span class="n">text_color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">xoffset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">yoffset</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">bgcolor</span><span class="o">=</span><span class="s1">&#39;pink&#39;</span><span class="p">))</span>
<span class="n">labels_2</span> <span class="o">=</span> <span class="n">hv</span><span class="o">.</span><span class="n">Labels</span><span class="p">(</span><span class="n">im</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="s1">&#39;item_subtype&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">opts</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">Labels</span><span class="p">(</span><span class="n">text_font_size</span><span class="o">=</span><span class="s1">&#39;8pt&#39;</span><span class="p">,</span> <span class="n">xoffset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">yoffset</span><span class="o">=-</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">bgcolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">))</span>
<span class="n">hv_graph</span> <span class="o">=</span> <span class="p">(</span><span class="n">im</span> <span class="o">*</span> <span class="n">labels</span> <span class="o">*</span> <span class="n">labels_2</span><span class="p">)</span>

<span class="n">hv</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">hv_graph</span><span class="p">,</span> <span class="s1">&#39;lineage_network.html&#39;</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s1">&#39;bokeh&#39;</span><span class="p">)</span>

<span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;lineage_network.html&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">


<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="utf-8">
      <title>lineage_network</title>
              <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css" type="text/css" />
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/loading.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/debugger.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/json.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/alerts.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/dataframe.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/card.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/widgets.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/markdown.css" type="text/css" />
            <style>
                
            .bk.pn-loading.arcs:before {
              background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiBub25lOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIj4gIDxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjMyIiBzdHJva2Utd2lkdGg9IjgiIHN0cm9rZT0iI2MzYzNjMyIgc3Ryb2tlLWRhc2hhcnJheT0iNTAuMjY1NDgyNDU3NDM2NjkgNTAuMjY1NDgyNDU3NDM2NjkiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+ICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0icm90YXRlIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgZHVyPSIxcyIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOzM2MCA1MCA1MCI+PC9hbmltYXRlVHJhbnNmb3JtPiAgPC9jaXJjbGU+PC9zdmc+");
              background-size: auto calc(min(50%, 400px));
            }
            
            </style>

          <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.4.3.min.js"></script><script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.4.3.min.js"></script><script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.4.3.min.js"></script><script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.4.3.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script><script type="text/javascript" src="https://unpkg.com/@holoviz/panel@0.13.1/dist/panel.min.js"></script><script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>
  </head>
  <body>
          
              <div class="bk-root" id="8dfd977a-d590-4736-a9ac-3c342d906bdf" data-root-id="4970"></div>
      
        <script type="application/json" id="5209">
          {"3724dba0-481b-4880-a1d7-89a353d09e7d":{"defs":[{"extends":null,"module":null,"name":"ReactiveHTML1","overrides":[],"properties":[]},{"extends":null,"module":null,"name":"FlexBox1","overrides":[],"properties":[{"default":"flex-start","kind":null,"name":"align_content"},{"default":"flex-start","kind":null,"name":"align_items"},{"default":"row","kind":null,"name":"flex_direction"},{"default":"wrap","kind":null,"name":"flex_wrap"},{"default":"flex-start","kind":null,"name":"justify_content"}]},{"extends":null,"module":null,"name":"GridStack1","overrides":[],"properties":[{"default":"warn","kind":null,"name":"mode"},{"default":null,"kind":null,"name":"ncols"},{"default":null,"kind":null,"name":"nrows"},{"default":true,"kind":null,"name":"allow_resize"},{"default":true,"kind":null,"name":"allow_drag"},{"default":[],"kind":null,"name":"state"}]},{"extends":null,"module":null,"name":"click1","overrides":[],"properties":[{"default":"","kind":null,"name":"terminal_output"},{"default":"","kind":null,"name":"debug_name"},{"default":0,"kind":null,"name":"clears"}]},{"extends":null,"module":null,"name":"NotificationAreaBase1","overrides":[],"properties":[{"default":"bottom-right","kind":null,"name":"position"},{"default":0,"kind":null,"name":"_clear"}]},{"extends":null,"module":null,"name":"NotificationArea1","overrides":[],"properties":[{"default":[],"kind":null,"name":"notifications"},{"default":"bottom-right","kind":null,"name":"position"},{"default":0,"kind":null,"name":"_clear"},{"default":[{"background":"#ffc107","icon":{"className":"fas fa-exclamation-triangle","color":"white","tagName":"i"},"type":"warning"},{"background":"#007bff","icon":{"className":"fas fa-info-circle","color":"white","tagName":"i"},"type":"info"}],"kind":null,"name":"types"}]},{"extends":null,"module":null,"name":"Notification","overrides":[],"properties":[{"default":null,"kind":null,"name":"background"},{"default":3000,"kind":null,"name":"duration"},{"default":null,"kind":null,"name":"icon"},{"default":"","kind":null,"name":"message"},{"default":null,"kind":null,"name":"notification_type"},{"default":false,"kind":null,"name":"_destroyed"}]},{"extends":null,"module":null,"name":"TemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]},{"extends":null,"module":null,"name":"MaterialTemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]}],"roots":{"references":[{"attributes":{},"id":"5078","type":"Selection"},{"attributes":{"end":0.6039145031169921,"reset_end":0.6039145031169921,"reset_start":-0.6801125208224856,"start":-0.6801125208224856,"tags":[[["y","y",null]]]},"id":"4973","type":"Range1d"},{"attributes":{"margin":[5,5,5,5],"name":"HSpacer06824","sizing_mode":"stretch_width"},"id":"5079","type":"Spacer"},{"attributes":{},"id":"4980","type":"LinearScale"},{"attributes":{"axis_label":"y","coordinates":null,"formatter":{"id":"5011"},"group":null,"major_label_policy":{"id":"5012"},"ticker":{"id":"4989"}},"id":"4988","type":"LinearAxis"},{"attributes":{"end":1.1327935134771967,"reset_end":1.1327935134771967,"reset_start":-0.903373693173156,"start":-0.903373693173156,"tags":[[["x","x",null]]]},"id":"4972","type":"Range1d"},{"attributes":{"coordinates":null,"group":null,"text_color":"black","text_font_size":"12pt"},"id":"4976","type":"Title"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"4998","type":"BoxAnnotation"},{"attributes":{"tools":[{"id":"4974"},{"id":"4992"},{"id":"4993"},{"id":"4994"},{"id":"4995"},{"id":"4996"},{"id":"4997"}]},"id":"4999","type":"Toolbar"},{"attributes":{"angle":{"value":0},"text":{"field":"item_subtype"},"text_align":{"value":"center"},"text_alpha":{"value":1.0},"text_baseline":{"value":"middle"},"text_color":{"value":"black"},"text_font_size":{"value":"8pt"},"text_font_style":{"value":"normal"},"text_line_height":{"value":1.2},"x":{"field":"x","transform":{"id":"5052"}},"x_offset":{"value":0},"y":{"field":"y","transform":{"id":"5053"}},"y_offset":{"value":0}},"id":"5062","type":"Text"},{"attributes":{},"id":"5009","type":"AllLabels"},{"attributes":{},"id":"4982","type":"LinearScale"},{"attributes":{"background_fill_color":"pink","below":[{"id":"4984"}],"center":[{"id":"4987"},{"id":"4991"}],"left":[{"id":"4988"}],"margin":[5,5,5,5],"min_border_bottom":10,"min_border_left":10,"min_border_right":10,"min_border_top":10,"renderers":[{"id":"5028"},{"id":"5049"},{"id":"5060"}],"sizing_mode":"fixed","title":{"id":"4976"},"toolbar":{"id":"4999"},"width":800,"x_range":{"id":"4972"},"x_scale":{"id":"4980"},"y_range":{"id":"4973"},"y_scale":{"id":"4982"}},"id":"4975","subtype":"Figure","type":"Plot"},{"attributes":{"data":{"item_subtype":["DATASET","DATASET_TEMPLATE","ORGANISATION","MODEL","PERSON","MODEL_RUN_WORKFLOW_DEFINITION","MODEL_RUN"],"x":{"__ndarray__":"gjLdQw3U4r+mrdfDl6jov////////+8/DoZfdnYA17+xUUFZyRrpPxNaqhwkb8+/D6A3w3/3xj8=","dtype":"float64","order":"little","shape":[7]},"y":{"__ndarray__":"LRofNz9r2b+V+ZHn3gyRPy6z8da3L8w/qUHjCmnN3z9StrNY61biv0Y2qlVxZNE/cVLHj3ILor8=","dtype":"float64","order":"little","shape":[7]}},"selected":{"id":"5055"},"selection_policy":{"id":"5072"}},"id":"5054","type":"ColumnDataSource"},{"attributes":{},"id":"5077","type":"UnionRenderers"},{"attributes":{"axis_label":"x","coordinates":null,"formatter":{"id":"5008"},"group":null,"major_label_policy":{"id":"5009"},"ticker":{"id":"4985"}},"id":"4984","type":"LinearAxis"},{"attributes":{},"id":"4993","type":"PanTool"},{"attributes":{"line_color":{"value":"limegreen"},"line_width":{"value":2}},"id":"5024","type":"MultiLine"},{"attributes":{"line_alpha":{"value":0.2},"line_width":{"value":2}},"id":"5025","type":"MultiLine"},{"attributes":{},"id":"5070","type":"UnionRenderers"},{"attributes":{},"id":"5037","type":"NodesAndLinkedEdges"},{"attributes":{},"id":"4985","type":"BasicTicker"},{"attributes":{},"id":"5012","type":"AllLabels"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#30a2da"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"#30a2da"},"line_alpha":{"value":0.2},"size":{"value":15}},"id":"5019","type":"Circle"},{"attributes":{"source":{"id":"5014"}},"id":"5027","type":"CDSView"},{"attributes":{"axis":{"id":"4984"},"coordinates":null,"grid_line_color":null,"group":null,"ticker":null},"id":"4987","type":"Grid"},{"attributes":{"range":null,"value":0.05},"id":"5042","type":"Dodge"},{"attributes":{"range":null},"id":"5052","type":"Dodge"},{"attributes":{"callback":null},"id":"4997","type":"TapTool"},{"attributes":{"text":{"field":"item_category"},"text_align":{"value":"center"},"text_alpha":{"value":0.2},"text_baseline":{"value":"middle"},"text_color":{"value":"blue"},"text_font_size":{"value":"12pt"},"x":{"field":"x","transform":{"id":"5041"}},"y":{"field":"y","transform":{"id":"5042"}}},"id":"5048","type":"Text"},{"attributes":{},"id":"5055","type":"Selection"},{"attributes":{"axis":{"id":"4988"},"coordinates":null,"dimension":1,"grid_line_color":null,"group":null,"ticker":null},"id":"4991","type":"Grid"},{"attributes":{"range":null},"id":"5041","type":"Dodge"},{"attributes":{},"id":"5039","type":"NodesAndLinkedEdges"},{"attributes":{"text":{"field":"item_subtype"},"text_align":{"value":"center"},"text_baseline":{"value":"middle"},"text_color":{"value":"black"},"text_font_size":{"value":"8pt"},"x":{"field":"x","transform":{"id":"5052"}},"y":{"field":"y","transform":{"id":"5053"}}},"id":"5057","type":"Text"},{"attributes":{"fill_color":{"value":"limegreen"},"hatch_color":{"value":"#30a2da"},"size":{"value":15}},"id":"5018","type":"Circle"},{"attributes":{"coordinates":null,"data_source":{"id":"5014"},"glyph":{"id":"5022"},"group":null,"hover_glyph":{"id":"5024"},"muted_glyph":{"id":"5025"},"nonselection_glyph":{"id":"5023"},"view":{"id":"5027"}},"id":"5026","type":"GlyphRenderer"},{"attributes":{"data":{"index":{"__ndarray__":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAA==","dtype":"int32","order":"little","shape":[7]},"index_hover":["10378.1/1688622","10378.1/1690478","10378.1/1690557","10378.1/1691116","10378.1/1691160","10378.1/1691197","10378.1/1691200"],"item_category":["ENTITY","ENTITY","AGENT","ENTITY","AGENT","ENTITY","ACTIVITY"],"item_subtype":["DATASET","DATASET_TEMPLATE","ORGANISATION","MODEL","PERSON","MODEL_RUN_WORKFLOW_DEFINITION","MODEL_RUN"]},"selected":{"id":"5076"},"selection_policy":{"id":"5075"}},"id":"5013","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"edge_renderer":{"id":"5026"},"group":null,"inspection_policy":{"id":"5039"},"layout_provider":{"id":"5015"},"node_renderer":{"id":"5020"},"selection_policy":{"id":"5037"}},"id":"5028","type":"GraphRenderer"},{"attributes":{"data":{"end":{"__ndarray__":"AAAAAAMAAAAFAAAABAAAAAIAAAABAAAAAQAAAAMAAAA=","dtype":"int32","order":"little","shape":[8]},"start":{"__ndarray__":"BgAAAAYAAAAGAAAABgAAAAYAAAAAAAAABQAAAAUAAAA=","dtype":"int32","order":"little","shape":[8]}},"selected":{"id":"5078"},"selection_policy":{"id":"5077"}},"id":"5014","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"data_source":{"id":"5043"},"glyph":{"id":"5046"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5048"},"nonselection_glyph":{"id":"5047"},"selection_glyph":{"id":"5051"},"view":{"id":"5050"}},"id":"5049","type":"GlyphRenderer"},{"attributes":{},"id":"4994","type":"WheelZoomTool"},{"attributes":{"angle":{"value":0},"text":{"field":"item_category"},"text_align":{"value":"center"},"text_alpha":{"value":1.0},"text_baseline":{"value":"middle"},"text_color":{"value":"blue"},"text_font_size":{"value":"12pt"},"text_font_style":{"value":"normal"},"text_line_height":{"value":1.2},"x":{"field":"x","transform":{"id":"5041"}},"x_offset":{"value":0},"y":{"field":"y","transform":{"id":"5042"}},"y_offset":{"value":0}},"id":"5051","type":"Text"},{"attributes":{},"id":"5011","type":"BasicTickFormatter"},{"attributes":{"line_width":{"value":2}},"id":"5022","type":"MultiLine"},{"attributes":{"line_alpha":{"value":0.2},"line_width":{"value":2}},"id":"5023","type":"MultiLine"},{"attributes":{},"id":"5008","type":"BasicTickFormatter"},{"attributes":{},"id":"5044","type":"Selection"},{"attributes":{"fill_color":{"value":"#30a2da"},"hatch_color":{"value":"#30a2da"},"size":{"value":15}},"id":"5016","type":"Circle"},{"attributes":{},"id":"5072","type":"UnionRenderers"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#30a2da"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"#30a2da"},"line_alpha":{"value":0.2},"size":{"value":15}},"id":"5017","type":"Circle"},{"attributes":{"text":{"field":"item_subtype"},"text_align":{"value":"center"},"text_alpha":{"value":0.2},"text_baseline":{"value":"middle"},"text_color":{"value":"black"},"text_font_size":{"value":"8pt"},"x":{"field":"x","transform":{"id":"5052"}},"y":{"field":"y","transform":{"id":"5053"}}},"id":"5059","type":"Text"},{"attributes":{},"id":"4989","type":"BasicTicker"},{"attributes":{"source":{"id":"5013"}},"id":"5021","type":"CDSView"},{"attributes":{"text":{"field":"item_subtype"},"text_align":{"value":"center"},"text_alpha":{"value":0.1},"text_baseline":{"value":"middle"},"text_color":{"value":"black"},"text_font_size":{"value":"8pt"},"x":{"field":"x","transform":{"id":"5052"}},"y":{"field":"y","transform":{"id":"5053"}}},"id":"5058","type":"Text"},{"attributes":{"source":{"id":"5054"}},"id":"5061","type":"CDSView"},{"attributes":{"margin":[5,5,5,5],"name":"HSpacer06823","sizing_mode":"stretch_width"},"id":"4971","type":"Spacer"},{"attributes":{"source":{"id":"5043"}},"id":"5050","type":"CDSView"},{"attributes":{},"id":"5075","type":"UnionRenderers"},{"attributes":{"text":{"field":"item_category"},"text_align":{"value":"center"},"text_alpha":{"value":0.1},"text_baseline":{"value":"middle"},"text_color":{"value":"blue"},"text_font_size":{"value":"12pt"},"x":{"field":"x","transform":{"id":"5041"}},"y":{"field":"y","transform":{"id":"5042"}}},"id":"5047","type":"Text"},{"attributes":{"overlay":{"id":"4998"}},"id":"4995","type":"BoxZoomTool"},{"attributes":{},"id":"5076","type":"Selection"},{"attributes":{"children":[{"id":"4971"},{"id":"4975"},{"id":"5079"}],"margin":[0,0,0,0],"name":"Row06819","tags":["embedded"]},"id":"4970","type":"Row"},{"attributes":{},"id":"4992","type":"SaveTool"},{"attributes":{"range":null,"value":-0.05},"id":"5053","type":"Dodge"},{"attributes":{"coordinates":null,"data_source":{"id":"5013"},"glyph":{"id":"5016"},"group":null,"hover_glyph":{"id":"5018"},"muted_glyph":{"id":"5019"},"nonselection_glyph":{"id":"5017"},"view":{"id":"5021"}},"id":"5020","type":"GlyphRenderer"},{"attributes":{"coordinates":null,"data_source":{"id":"5054"},"glyph":{"id":"5057"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5059"},"nonselection_glyph":{"id":"5058"},"selection_glyph":{"id":"5062"},"view":{"id":"5061"}},"id":"5060","type":"GlyphRenderer"},{"attributes":{},"id":"4996","type":"ResetTool"},{"attributes":{"callback":null,"renderers":[{"id":"5028"}],"tags":["hv_created"],"tooltips":[["index","@{index_hover}"],["item_category","@{item_category}"],["item_subtype","@{item_subtype}"]]},"id":"4974","type":"HoverTool"},{"attributes":{"text":{"field":"item_category"},"text_align":{"value":"center"},"text_baseline":{"value":"middle"},"text_color":{"value":"blue"},"text_font_size":{"value":"12pt"},"x":{"field":"x","transform":{"id":"5041"}},"y":{"field":"y","transform":{"id":"5042"}}},"id":"5046","type":"Text"},{"attributes":{"graph_layout":{"0":[-0.5883852315397038,-0.3971708334251243],"1":[-0.770580179695959,0.01665066040413306],"2":[0.9999999999999999,0.22020624156302787],"3":[-0.3594032436359108,0.4969122511220357],"4":[0.7845198386444762,-0.5731102688275291],"5":[-0.2455792560546831,0.271755536706085],"6":[0.17942807228178068,-0.03524358754262814]}},"id":"5015","type":"StaticLayoutProvider"},{"attributes":{"data":{"item_category":["ENTITY","ENTITY","AGENT","ENTITY","AGENT","ENTITY","ACTIVITY"],"x":{"__ndarray__":"gjLdQw3U4r+mrdfDl6jov////////+8/DoZfdnYA17+xUUFZyRrpPxNaqhwkb8+/D6A3w3/3xj8=","dtype":"float64","order":"little","shape":[7]},"y":{"__ndarray__":"LRofNz9r2b+V+ZHn3gyRPy6z8da3L8w/qUHjCmnN3z9StrNY61biv0Y2qlVxZNE/cVLHj3ILor8=","dtype":"float64","order":"little","shape":[7]}},"selected":{"id":"5044"},"selection_policy":{"id":"5070"}},"id":"5043","type":"ColumnDataSource"}],"root_ids":["4970"]},"title":"Bokeh Application","version":"2.4.3"}}
        </script>
        <script type="text/javascript">
          (function() {
            const fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                  const docs_json = document.getElementById('5209').textContent;
                  const render_items = [{"docid":"3724dba0-481b-4880-a1d7-89a353d09e7d","root_ids":["4970"],"roots":{"4970":"8dfd977a-d590-4736-a9ac-3c342d906bdf"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    let attempts = 0;
                    const timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        clearInterval(timer);
                        embed_document(root);
                      } else {
                        attempts++;
                        if (attempts > 100) {
                          clearInterval(timer);
                          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        }
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script>
  </body>
</html>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Explore-Children">Explore Children<a class="anchor-link" href="#Explore-Children"> </a></h3><p><a href="#toc">Return to Top</a></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">auth</span> <span class="o">=</span> <span class="n">token_manager</span><span class="o">.</span><span class="n">get_auth</span>
<span class="n">postfix</span> <span class="o">=</span> <span class="s2">&quot;/explore/downstream&quot;</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;starting_id&quot;</span><span class="p">:</span> <span class="s2">&quot;10378.1/1691200&quot;</span>
<span class="p">}</span>
<span class="n">endpoint</span> <span class="o">=</span> <span class="n">prov_api</span> <span class="o">+</span> <span class="n">postfix</span> 

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">())</span>

<span class="n">result_graph</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;graph&quot;</span><span class="p">]</span>

<span class="n">a_graph</span> <span class="o">=</span> <span class="n">json_graph</span><span class="o">.</span><span class="n">node_link_graph</span><span class="p">(</span><span class="n">result_graph</span><span class="p">)</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">hv</span><span class="o">.</span><span class="n">Graph</span><span class="o">.</span><span class="n">from_networkx</span><span class="p">(</span><span class="n">a_graph</span><span class="p">,</span> <span class="n">nx</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">fruchterman_reingold_layout</span><span class="p">)</span><span class="o">.</span><span class="n">opts</span><span class="p">(</span><span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;hover&#39;</span><span class="p">])</span>

<span class="n">hv</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="s1">&#39;network.html&#39;</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s1">&#39;bokeh&#39;</span><span class="p">)</span>

<span class="n">HTML</span><span class="p">(</span><span class="s2">&quot;network.html&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">


<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="utf-8">
      <title>network</title>
              <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css" type="text/css" />
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/loading.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/debugger.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/json.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/alerts.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/dataframe.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/card.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/widgets.css" type="text/css" />
            <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.1/dist/css/markdown.css" type="text/css" />
            <style>
                
            .bk.pn-loading.arcs:before {
              background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiBub25lOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIj4gIDxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjMyIiBzdHJva2Utd2lkdGg9IjgiIHN0cm9rZT0iI2MzYzNjMyIgc3Ryb2tlLWRhc2hhcnJheT0iNTAuMjY1NDgyNDU3NDM2NjkgNTAuMjY1NDgyNDU3NDM2NjkiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+ICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0icm90YXRlIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgZHVyPSIxcyIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOzM2MCA1MCA1MCI+PC9hbmltYXRlVHJhbnNmb3JtPiAgPC9jaXJjbGU+PC9zdmc+");
              background-size: auto calc(min(50%, 400px));
            }
            
            </style>

          <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.4.3.min.js"></script><script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.4.3.min.js"></script><script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.4.3.min.js"></script><script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.4.3.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script><script type="text/javascript" src="https://unpkg.com/@holoviz/panel@0.13.1/dist/panel.min.js"></script><script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>
  </head>
  <body>
          
              <div class="bk-root" id="e6696d3d-f9d0-43ab-9209-1887eab0fe11" data-root-id="5210"></div>
      
        <script type="application/json" id="5389">
          {"b60689f0-3662-4546-b253-f2ace5a3d25f":{"defs":[{"extends":null,"module":null,"name":"ReactiveHTML1","overrides":[],"properties":[]},{"extends":null,"module":null,"name":"FlexBox1","overrides":[],"properties":[{"default":"flex-start","kind":null,"name":"align_content"},{"default":"flex-start","kind":null,"name":"align_items"},{"default":"row","kind":null,"name":"flex_direction"},{"default":"wrap","kind":null,"name":"flex_wrap"},{"default":"flex-start","kind":null,"name":"justify_content"}]},{"extends":null,"module":null,"name":"GridStack1","overrides":[],"properties":[{"default":"warn","kind":null,"name":"mode"},{"default":null,"kind":null,"name":"ncols"},{"default":null,"kind":null,"name":"nrows"},{"default":true,"kind":null,"name":"allow_resize"},{"default":true,"kind":null,"name":"allow_drag"},{"default":[],"kind":null,"name":"state"}]},{"extends":null,"module":null,"name":"click1","overrides":[],"properties":[{"default":"","kind":null,"name":"terminal_output"},{"default":"","kind":null,"name":"debug_name"},{"default":0,"kind":null,"name":"clears"}]},{"extends":null,"module":null,"name":"NotificationAreaBase1","overrides":[],"properties":[{"default":"bottom-right","kind":null,"name":"position"},{"default":0,"kind":null,"name":"_clear"}]},{"extends":null,"module":null,"name":"NotificationArea1","overrides":[],"properties":[{"default":[],"kind":null,"name":"notifications"},{"default":"bottom-right","kind":null,"name":"position"},{"default":0,"kind":null,"name":"_clear"},{"default":[{"background":"#ffc107","icon":{"className":"fas fa-exclamation-triangle","color":"white","tagName":"i"},"type":"warning"},{"background":"#007bff","icon":{"className":"fas fa-info-circle","color":"white","tagName":"i"},"type":"info"}],"kind":null,"name":"types"}]},{"extends":null,"module":null,"name":"Notification","overrides":[],"properties":[{"default":null,"kind":null,"name":"background"},{"default":3000,"kind":null,"name":"duration"},{"default":null,"kind":null,"name":"icon"},{"default":"","kind":null,"name":"message"},{"default":null,"kind":null,"name":"notification_type"},{"default":false,"kind":null,"name":"_destroyed"}]},{"extends":null,"module":null,"name":"TemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]},{"extends":null,"module":null,"name":"MaterialTemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]}],"roots":{"references":[{"attributes":{"graph_layout":{"0":[1.0,0.10632881709825767],"1":[-1.0,-0.10632881709825767]}},"id":"5247","type":"StaticLayoutProvider"},{"attributes":{},"id":"5232","type":"SaveTool"},{"attributes":{},"id":"5277","type":"BasicTickFormatter"},{"attributes":{"source":{"id":"5246"}},"id":"5259","type":"CDSView"},{"attributes":{"axis_label":"y","coordinates":null,"formatter":{"id":"5277"},"group":null,"major_label_policy":{"id":"5278"},"ticker":{"id":"5229"}},"id":"5228","type":"LinearAxis"},{"attributes":{},"id":"5269","type":"NodesAndLinkedEdges"},{"attributes":{"below":[{"id":"5224"}],"center":[{"id":"5227"},{"id":"5231"}],"left":[{"id":"5228"}],"margin":[5,5,5,5],"min_border_bottom":10,"min_border_left":10,"min_border_right":10,"min_border_top":10,"renderers":[{"id":"5260"}],"sizing_mode":"fixed","title":{"id":"5216"},"toolbar":{"id":"5238"},"width":800,"x_range":{"id":"5212"},"x_scale":{"id":"5220"},"y_range":{"id":"5213"},"y_scale":{"id":"5222"}},"id":"5215","subtype":"Figure","type":"Plot"},{"attributes":{"end":0.1275945805179092,"reset_end":0.1275945805179092,"reset_start":-0.1275945805179092,"start":-0.1275945805179092,"tags":[[["y","y",null]]]},"id":"5213","type":"Range1d"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#30a2da"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"#30a2da"},"line_alpha":{"value":0.2},"size":{"value":15}},"id":"5251","type":"Circle"},{"attributes":{},"id":"5287","type":"UnionRenderers"},{"attributes":{},"id":"5289","type":"UnionRenderers"},{"attributes":{"margin":[5,5,5,5],"name":"HSpacer07037","sizing_mode":"stretch_width"},"id":"5291","type":"Spacer"},{"attributes":{"line_color":{"value":"limegreen"},"line_width":{"value":2}},"id":"5256","type":"MultiLine"},{"attributes":{},"id":"5225","type":"BasicTicker"},{"attributes":{},"id":"5288","type":"Selection"},{"attributes":{"axis":{"id":"5224"},"coordinates":null,"grid_line_color":null,"group":null,"ticker":null},"id":"5227","type":"Grid"},{"attributes":{},"id":"5275","type":"AllLabels"},{"attributes":{"data":{"index":{"__ndarray__":"AAAAAAEAAAA=","dtype":"int32","order":"little","shape":[2]},"index_hover":["10378.1/1688634","10378.1/1691200"],"item_category":["ENTITY","ACTIVITY"],"item_subtype":["DATASET","MODEL_RUN"]},"selected":{"id":"5288"},"selection_policy":{"id":"5287"}},"id":"5245","type":"ColumnDataSource"},{"attributes":{"axis_label":"x","coordinates":null,"formatter":{"id":"5274"},"group":null,"major_label_policy":{"id":"5275"},"ticker":{"id":"5225"}},"id":"5224","type":"LinearAxis"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"5237","type":"BoxAnnotation"},{"attributes":{"margin":[5,5,5,5],"name":"HSpacer07036","sizing_mode":"stretch_width"},"id":"5211","type":"Spacer"},{"attributes":{"callback":null,"renderers":[{"id":"5260"}],"tags":["hv_created"],"tooltips":[["index","@{index_hover}"],["item_category","@{item_category}"],["item_subtype","@{item_subtype}"]]},"id":"5214","type":"HoverTool"},{"attributes":{},"id":"5233","type":"PanTool"},{"attributes":{"line_width":{"value":2}},"id":"5254","type":"MultiLine"},{"attributes":{"coordinates":null,"group":null,"text_color":"black","text_font_size":"12pt"},"id":"5216","type":"Title"},{"attributes":{"fill_color":{"value":"#30a2da"},"hatch_color":{"value":"#30a2da"},"size":{"value":15}},"id":"5248","type":"Circle"},{"attributes":{"coordinates":null,"data_source":{"id":"5246"},"glyph":{"id":"5254"},"group":null,"hover_glyph":{"id":"5256"},"muted_glyph":{"id":"5257"},"nonselection_glyph":{"id":"5255"},"view":{"id":"5259"}},"id":"5258","type":"GlyphRenderer"},{"attributes":{},"id":"5236","type":"ResetTool"},{"attributes":{"overlay":{"id":"5237"}},"id":"5235","type":"BoxZoomTool"},{"attributes":{"source":{"id":"5245"}},"id":"5253","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#30a2da"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"#30a2da"},"line_alpha":{"value":0.2},"size":{"value":15}},"id":"5249","type":"Circle"},{"attributes":{"end":1.15,"reset_end":1.15,"reset_start":-1.15,"start":-1.15,"tags":[[["x","x",null]]]},"id":"5212","type":"Range1d"},{"attributes":{"coordinates":null,"data_source":{"id":"5245"},"glyph":{"id":"5248"},"group":null,"hover_glyph":{"id":"5250"},"muted_glyph":{"id":"5251"},"nonselection_glyph":{"id":"5249"},"view":{"id":"5253"}},"id":"5252","type":"GlyphRenderer"},{"attributes":{},"id":"5290","type":"Selection"},{"attributes":{"data":{"end":{"__ndarray__":"AQAAAA==","dtype":"int32","order":"little","shape":[1]},"start":{"__ndarray__":"AAAAAA==","dtype":"int32","order":"little","shape":[1]}},"selected":{"id":"5290"},"selection_policy":{"id":"5289"}},"id":"5246","type":"ColumnDataSource"},{"attributes":{"tools":[{"id":"5214"},{"id":"5232"},{"id":"5233"},{"id":"5234"},{"id":"5235"},{"id":"5236"}]},"id":"5238","type":"Toolbar"},{"attributes":{},"id":"5222","type":"LinearScale"},{"attributes":{},"id":"5220","type":"LinearScale"},{"attributes":{"coordinates":null,"edge_renderer":{"id":"5258"},"group":null,"inspection_policy":{"id":"5271"},"layout_provider":{"id":"5247"},"node_renderer":{"id":"5252"},"selection_policy":{"id":"5269"}},"id":"5260","type":"GraphRenderer"},{"attributes":{"line_alpha":{"value":0.2},"line_width":{"value":2}},"id":"5257","type":"MultiLine"},{"attributes":{"line_alpha":{"value":0.2},"line_width":{"value":2}},"id":"5255","type":"MultiLine"},{"attributes":{"axis":{"id":"5228"},"coordinates":null,"dimension":1,"grid_line_color":null,"group":null,"ticker":null},"id":"5231","type":"Grid"},{"attributes":{"children":[{"id":"5211"},{"id":"5215"},{"id":"5291"}],"margin":[0,0,0,0],"name":"Row07032","tags":["embedded"]},"id":"5210","type":"Row"},{"attributes":{},"id":"5271","type":"NodesAndLinkedEdges"},{"attributes":{},"id":"5229","type":"BasicTicker"},{"attributes":{},"id":"5234","type":"WheelZoomTool"},{"attributes":{},"id":"5274","type":"BasicTickFormatter"},{"attributes":{"fill_color":{"value":"limegreen"},"hatch_color":{"value":"#30a2da"},"size":{"value":15}},"id":"5250","type":"Circle"},{"attributes":{},"id":"5278","type":"AllLabels"}],"root_ids":["5210"]},"title":"Bokeh Application","version":"2.4.3"}}
        </script>
        <script type="text/javascript">
          (function() {
            const fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                  const docs_json = document.getElementById('5389').textContent;
                  const render_items = [{"docid":"b60689f0-3662-4546-b253-f2ace5a3d25f","root_ids":["5210"],"roots":{"5210":"e6696d3d-f9d0-43ab-9209-1887eab0fe11"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    let attempts = 0;
                    const timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        clearInterval(timer);
                        embed_document(root);
                      } else {
                        attempts++;
                        if (attempts > 100) {
                          clearInterval(timer);
                          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        }
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script>
  </body>
</html>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="#toc">Return to Top</a></p>

</div>
</div>
</div>
</div>
 

